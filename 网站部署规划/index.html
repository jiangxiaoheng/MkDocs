<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>网站部署规划 - My Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u7f51\u7ad9\u90e8\u7f72\u89c4\u5212";
        var mkdocs_page_input_path = "\u7f51\u7ad9\u90e8\u7f72\u89c4\u5212.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Unity</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Unity%20%E9%80%8F%E8%A7%86%E9%95%9C%E5%A4%B4%20FOV%20%E8%A7%92%E5%BA%A6%E8%AE%A1%E7%AE%97/">Unity 透视镜头 FOV 角度计算</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../unity%20%E5%AD%A6%E4%B9%A0%E8%A1%A8/">unity 学习表</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UnityWebRequest%20%E4%B8%8E%20Web%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E8%AE%AF/">UnityWebRequest 与 Web 服务器通讯</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Unity%E9%A1%B9%E7%9B%AE%E7%BB%84%E7%BB%87%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/">Unity 项目组织目录结构</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Unity%E4%B8%AD%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%9A%84%E6%96%B9%E6%B3%95/">Unity 中数据存储的方法</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Addressable%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/">Addressable使用心得</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../C%23%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">C# 设计模式</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Django%2BTornado%2BNginx/">Django+Tornado+Nginx</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../django%E8%AF%AD%E5%8F%A5/">django语句</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker/">docker</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ExpressNode.Js/">ExpressNode.Js</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../HTML%EF%BC%8CCSS%E8%AF%AD%E5%8F%A5/">HTML，CSS语句</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Linux 常用命令</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Linux%E8%AF%AD%E5%8F%A5%E5%91%BD%E4%BB%A4/">Linux语句命令</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Nakama%20%E5%BF%85%E8%A6%81%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/">Nakama 必要功能实现</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Nakama%20%E9%83%A8%E7%BD%B2/">Nakama 部署</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Nginx/">Nginx</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../PHP%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E2%80%94%E2%80%94Composer%20%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/">PHP开发环境——Composer 的安装与使用</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Python%20%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/">Python 虚拟环境</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../SQL%E8%AF%AD%E5%8F%A5/">SQL语句</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../VMware%20%E8%99%9A%E6%8B%9F%E6%9C%BA/">VMware 虚拟机</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7%20Luban/">配置工具 Luban</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">网站部署规划</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#_2">设备选择</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_3">系统选择</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_4">图形界面</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_5">安装(还有其他界面选择)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_6">默认界面查询</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_7">开机进入命令行界面</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_8">开机进入图形界面</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#selinux">防火墙SELinux</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_9">启用</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_10">禁用</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">状态</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_12">停止</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_13">启动</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_14">重新启动</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_15">端口</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_16">查看端口开放</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_17">开启端口</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_18">查看端口占用</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#python">Python</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_19">安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bpython">安装 bpython</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pip3">pip3安装</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#django">Django</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_20">安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_21">验证安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_22">创建项目</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_23">创建应用</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_24">运行验证</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_25">配置/设置</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_26">文件路径</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#settingspy">settings.py主配置(!提示先备份)</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#uwsgi">uWSGI</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_27">安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_28">配置</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#uwsgiini">新建配置uwsgi.ini路径</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_29">命令</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_30">常见问题</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nginx">Nginx</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_31">安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nginx_1">启动 Nginx 服务</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#-s">-s命令</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#nginx-h">查看nginx命令帮助 -h或–?</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#apachehttpd">Apache/httpd</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_32">安装</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_33">开启服务</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_34">状态命令</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#apache">Apache主配置:</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#httpd">httpd配置文件路径(!提示先备份)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_35">配置网页默认路径:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#web">WEB安全配置</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#httpsssl">https/SSL配置(暂时这么写,待验证)</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#sslmod_sslso">安装SSL模块mod_ssl.so</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl">创建存放SSL证书目录</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl_1">SSL的主配置文件配置（！提示先备份）</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_36">网址根目录</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl_2">SSL域名</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl-public">SSL证书 public</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl-key">SSL证书 key</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ssl-chain">SSL证书 chain</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#apachehttpdconfssl">Apache主配置httpd.conf中开启或添加SSL以下配置（！提示先备份）</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_37">最后重启服务</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#80">修改80端口</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/">游戏开发基础框架</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>网站部署规划</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">网站部署规划</h1>
<h2 id="_2">设备选择</h2>
<p>云服务器</p>
<h2 id="_3">系统选择</h2>
<p>linux</p>
<h2 id="_4">图形界面</h2>
<h6 id="_5">安装(还有其他界面选择)</h6>
<pre><code>yum install gnome
</code></pre>
<h6 id="_6">默认界面查询</h6>
<pre><code>systemctl get-default
</code></pre>
<h6 id="_7">开机进入命令行界面</h6>
<pre><code>systemctl set-default multi-user.target
</code></pre>
<h6 id="_8">开机进入图形界面</h6>
<pre><code>systemctl set-default grphical.target
</code></pre>
<h2 id="selinux">防火墙SELinux</h2>
<pre><code>systemctl 选项 firewalld
</code></pre>
<h6 id="_9">启用</h6>
<pre><code>enable
</code></pre>
<h6 id="_10">禁用</h6>
<pre><code>disable
</code></pre>
<h6 id="_11">状态</h6>
<pre><code>status
</code></pre>
<h6 id="_12">停止</h6>
<pre><code>stop
</code></pre>
<h6 id="_13">启动</h6>
<pre><code>start
</code></pre>
<h6 id="_14">重新启动</h6>
<pre><code>restart
</code></pre>
<h2 id="_15">端口</h2>
<h6 id="_16">查看端口开放</h6>
<pre><code>firewall-cmd --list-all
</code></pre>
<h6 id="_17">开启端口</h6>
<blockquote>
<p>8080, 云平台安全组已经放通的端口, 还要在云服务器设备内再次放通, 添加后重启下防火墙 systemctl restart firewalld</p>
</blockquote>
<pre><code>firewall-cmd --permanent --zone=public --add-port=8080/tcp
</code></pre>
<h6 id="_18">查看端口占用</h6>
<pre><code>netstat -lnp|grep 80
</code></pre>
<h2 id="python">Python</h2>
<h6 id="_19">安装</h6>
<pre><code>yum install python
</code></pre>
<h6 id="bpython">安装 bpython</h6>
<blockquote>
<p>（有命令提示和色彩）做为python的shell，来加强python的人机对话。</p>
</blockquote>
<pre><code>pip install bpython
</code></pre>
<h6 id="pip3">pip3安装</h6>
<pre><code>yum -y install python3-pip
</code></pre>
<h2 id="django">Django</h2>
<h6 id="_20">安装</h6>
<pre><code>pip3 install django
</code></pre>
<h6 id="_21">验证安装</h6>
<pre><code>python3
&gt;&gt;&gt;import django
&gt;&gt;&gt;django.VERSION
</code></pre>
<h3 id="_22">创建项目</h3>
<pre><code>[root@localhost html]# django-admin startproject mydemo
    # 在需要的目录下创建,如/var/www/html/
    # 大概会得到一个这样的目录结构
    mysite
      ├── manage.py
      └── mysite
            ├── __init__.py
            ├── settings.py
            ├── urls.py
            └── wsgi.py
</code></pre>
<h3 id="_23">创建应用</h3>
<pre><code>python3 manage.py startapp my app
</code></pre>
<h3 id="_24">运行验证</h3>
<pre><code>python manage.py runserver 0.0.0.0:8000
</code></pre>
<h3 id="_25">配置/设置</h3>
<h6 id="_26">文件路径</h6>
<pre><code>myproject/myproject/settings.py
</code></pre>
<h6 id="settingspy">settings.py主配置(!提示先备份)</h6>
<pre><code class="language-python"># 导入os.path(使用模板需要用到os设置路径)
import os.path
from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/3.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-7o&amp;5vr(804ljf73#xb!300u!ezhalq82v76c$&amp;ogxy555bpxr4'

# SECURITY WARNING: don't run with debug turned on in production!
# 调试模式,默认开启,部署上线改为 DEBUG = False
DEBUG = True

# 修改访问限制
# 项目上线改为 ALLOWED_HOST = ['网站域名']或['服务监听的IP地址']
ALLOWED_HOSTS = ['*']


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'myapp',    # 导入myapp应用
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'mydemo.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'templates')],  # 设置模板文件夹路径
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'mydemo.wsgi.application'


# Database
# https://docs.djangoproject.com/en/3.2/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',    # 数据库设置,默认sqlite3,其他数据库待研究
    }
}


# Password validation
# https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/3.2/topics/i18n/

LANGUAGE_CODE = 'zh-Hans'    # 语言

TIME_ZONE = 'Asia/Shanghai'    # 时区

USE_I18N = True

USE_L10N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/3.2/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

</code></pre>
<h2 id="uwsgi">uWSGI</h2>
<blockquote>
<p>uWSGI # web服务器;用于翻译http让django读懂
uwsgi   # 协议;全小写
uWSGI替代python3 manage.py runserver 0.0.0.0:800
django的manage.py runserver是测试服务工具, 正式并发环境需要部署uWSGI</p>
</blockquote>
<h6 id="_27">安装</h6>
<pre><code>pip3 install uwsgi
</code></pre>
<blockquote>
<p>错误：Exception: you need a C compiler to build uWSGI
解决：yum install gcc
错误：plugins/python/uwsgi_python.h:2:10: fatal error: Python.h: No such file or directory
解决：yum install python3-devel</p>
</blockquote>
<h3 id="_28">配置</h3>
<h6 id="uwsgiini">新建配置uwsgi.ini路径</h6>
<pre><code>myproject/myproject/uwsgi_myproject.ini 与 settings.py 配置同级
</code></pre>
<pre><code class="language-python">[uwsgi]
#配置开头,用于识别配置

socke = 127.0.0.1:8080
# http = 0.0.0.0:3309
# 配置服务器的监听ip和端口，让uWSGI作为nginx的支持服务器的话，设置socke就行；如果要让uWSGI作为单独的web-server，用http

chdir = /var/www/html/myproject
# 配置项目目录（此处设置为项目的根目录）

wsgi-file = myproject/wsgi.py
# 配置入口模块 (django的入口函数的模块，即setting同级目录下的wsgi.py)

master = True
# 开启master, 将会多开一个管理进程, 管理其他服务进程

daemonize = wsgi.log
# 以守护进程方式提供服, 输出信息将会打印到log中

pidfile = uwsgi.pid
# 进程pid

processes = 1
# 服务器进程数(不大于核心数)

threads = 4
# 服务器进程开启的线程数量
</code></pre>
<h3 id="_29">命令</h3>
<pre><code class="language-python"># 启动
uwsgi

# 启动项目中uwsgi;cd到项目uWSGI所在目录进行
uwsgi --ini uwsgi.ini

# 停止;cd到项目uWSGI所在目录进行
uwsgi --stop uwsgi.pid

# 重启;cd到项目uWSGI所在目录进行(不知道是否有效,没必要用)
uwsgi --reload uwsgi.pid

# 启动和关闭都要看看有没有相应的进程
ps -aux | grep uwsgi

# 先停止,再启动
django中代码有任何修改,需要重新启动uwsgi
</code></pre>
<h6 id="_30">常见问题</h6>
<blockquote>
<p>错误: realpath() of uwsgi.ps failed: No such file or directory [core/utils.c line 3654]
解决: 删除uwsgi.pid，然后重新执行uwsgi --ini uwsgi.ini。然后会重新生成一个uwsgi.pid。这时候在查看uwsgi进程，就正常了。</p>
</blockquote>
<h2 id="nginx">Nginx</h2>
<blockquote>
<p>特点
负载均衡
反向代理</p>
</blockquote>
<h6 id="_31">安装</h6>
<pre><code>yum install nginx
</code></pre>
<h6 id="nginx_1">启动 Nginx 服务</h6>
<pre><code>nginx
</code></pre>
<h3 id="-s">-s命令</h3>
<blockquote>
<p>-s选项：向正在运行的nginx主进程发送信号，信号的可用值有stop, quit, reopen, reload</p>
</blockquote>
<pre><code class="language-python"># 命令停止nginx服务
nginx -s stop
# 与stop信号的作用类似，quit信号作用也是用于停止nginx服务，quit信号和stop信号的区别在于，nignx进程收到stop信号以后会立即停止服务，而收到quit信号后，不会再接收新的请求，但是会先处理完已经接受的链接请求，处理完这些请求之后再停止服务，这种停止方式被称之为”优雅的停止”。
nginx -s quit
# reload信号的作用就是在不停止服务的情况下重载配置文件，比如，nginx正在正常的提供服务，此时，管理员修改了nginx.conf文件中的配置指令，管理员希望新的配置立刻生效，但是又不希望重启nginx服务，此时就可以使用”nginx -s reload”命令重载配置文件，以便在不重启nginx的情况下载入新的配置，同时避免了因重启而造成的服务中断。
nginx -s reload
# 利用reopen信号可以使nignx进程重新打开日志文件，以便实现日志分割的效果，关于日志切割的话题会单独总结一片文章，reopen信号也会在届时进行演示，此处不用纠结
nginx -s reopen
</code></pre>
<h6 id="nginx-h">查看nginx命令帮助 -h或–?</h6>
<pre><code>-v
    查看nginx版本信息
-V
    查看nginx编译信息
-c
    启动nginx时指定主配置文件
-t或-T
    测试nginx.conf文件是否存在语法错误
</code></pre>
<h2 id="apachehttpd">Apache/httpd</h2>
<h6 id="_32">安装</h6>
<pre><code>yum install httpd -y
</code></pre>
<h6 id="_33">开启服务</h6>
<pre><code>systemctl enable httpd    # 貌似不需要去开启
</code></pre>
<h6 id="_34">状态命令</h6>
<pre><code>systemctl status httpd
systemctl restart httpd
systemctl stop httpd
systemctl start httpd
</code></pre>
<h3 id="apache">Apache主配置:</h3>
<h6 id="httpd">httpd配置文件路径(!提示先备份)</h6>
<pre><code>/etc/httpd/conf/httpd.conf
</code></pre>
<h6 id="_35">配置网页默认路径:</h6>
<pre><code>DocumentRoot "/var/www/html"
&lt;Directory "/var/www"&gt;
</code></pre>
<h6 id="web">WEB安全配置</h6>
<pre><code># Index: Index文件不存在时,会展示web目录结构
# FollowSymLinks: 可以直接访问web目录
Options Indexes FollowSymLinks 改为  Options None
</code></pre>
<h3 id="httpsssl">https/SSL配置(暂时这么写,待验证)</h3>
<h6 id="sslmod_sslso">安装SSL模块mod_ssl.so</h6>
<pre><code>yum install -y mod_ssl　　
# 需要cd进入/etc/httpd/modules目录，然后下载mod_ssl.so
</code></pre>
<h6 id="ssl">创建存放SSL证书目录</h6>
<pre><code>/etc/httpd/cert    
# mikdir /etc/httpd/cert
</code></pre>
<h6 id="ssl_1">SSL的主配置文件配置（！提示先备份）</h6>
<pre><code>/etc/httpd/conf.d/ssl.conf
</code></pre>
<h6 id="_36">网址根目录</h6>
<pre><code>#DocumentRoot "/var/www/html"    
# 默认为注释状态
</code></pre>
<h6 id="ssl_2">SSL域名</h6>
<pre><code>ServerName  run.zzy520.com:443
</code></pre>
<h6 id="ssl-public">SSL证书 public</h6>
<pre><code>SSLCertificateFile /etc/httpd/cert/pub.crt
</code></pre>
<h6 id="ssl-key">SSL证书 key</h6>
<pre><code>SSLCertificateKeyFile /etc/httpd/cert/pri.key
</code></pre>
<h6 id="ssl-chain">SSL证书 chain</h6>
<pre><code>SSLCertificateChainFile /etc/httpd/cert/chain.crt
</code></pre>
<h6 id="apachehttpdconfssl">Apache主配置httpd.conf中开启或添加SSL以下配置（！提示先备份）</h6>
<pre><code>LoadModule ssl_module modules/mod_ssl.so    
# 载/加入ssl模块
Include /etc/httpd/conf/fond.d/ssl.conf    
# 载/加入ssl配置
# Example:
# LoadModule foo_module modules/mod_foo.so
# 添加位置放推荐放在上面两句后面
</code></pre>
<h6 id="_37">最后重启服务</h6>
<pre><code>systemctl restart httpd
</code></pre>
<h6 id="80">修改80端口</h6>
<pre><code># Listen 12.34.56.78:80
Listen 80 可以改成 Listen 8080
ServerName www.example.com:80 可以改成 ServerName www.example.com:8080
Listen 80
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7%20Luban/" class="btn btn-neutral float-left" title="配置工具 Luban"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/" class="btn btn-neutral float-right" title="游戏开发基础框架">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7%20Luban/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
